<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Go Travel ‚úàÔ∏è</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    .input {
      @apply w-full px-3 py-2 rounded-xl border border-gray-300 shadow-sm text-sm;
    }
    .btn {
      @apply bg-indigo-500 text-white px-4 py-2 rounded-xl text-sm font-semibold hover:bg-indigo-600;
    }
  </style>
</head>
<body class="bg-gradient-to-r from-sky-100 to-indigo-100 min-h-screen p-4">
  <div class="max-w-2xl mx-auto">
    <h1 class="text-3xl font-bold mb-6 text-center">Go Travel ‚úàÔ∏è</h1>

    <!-- Tabs -->
    <div class="flex justify-center mb-4 gap-2">
      <button class="tab-btn bg-white px-4 py-2 rounded-xl shadow text-sm font-medium" onclick="showTab('flights')">‚úàÔ∏è –ê–≤–∏–∞–±–∏–ª–µ—Ç—ã</button>
      <button class="tab-btn bg-white px-4 py-2 rounded-xl shadow text-sm font-medium" onclick="showTab('hotels')">üè® –û—Ç–µ–ª–∏</button>
      <button class="tab-btn bg-white px-4 py-2 rounded-xl shadow text-sm font-medium" onclick="showTab('sights')">üåç –ú–µ—Å—Ç–∞</button>
    </div>

    <!-- Flights -->
    <div id="flights" class="tab">
      <!-- Search Form -->
      <form id="search-form" class="bg-white p-4 rounded-xl shadow mb-4 space-y-2">
        <input type="text" name="from" placeholder="–û—Ç–∫—É–¥–∞" class="input" required />
        <input type="text" name="to" placeholder="–ö—É–¥–∞" class="input" required />
        <input type="date" name="date" class="input" required />
        <button type="submit" class="btn w-full">–ù–∞–π—Ç–∏ —Ä–µ–π—Å—ã</button>
      </form>

      <!-- Results -->
      <div id="flights-container" class="space-y-4"></div>
    </div>

    <!-- Hotels (–∑–∞–≥–ª—É—à–∫–∞) -->
    <div id="hotels" class="tab hidden">
      <p class="text-center text-gray-500">–§—É–Ω–∫—Ü–∏—è –æ—Ç–µ–ª–µ–π –ø–æ—è–≤–∏—Ç—Å—è —Å–∫–æ—Ä–æ ‚è≥</p>
    </div>

    <!-- Sights (–∑–∞–≥–ª—É—à–∫–∞) -->
    <div id="sights" class="tab hidden">
      <p class="text-center text-gray-500">–î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ ‚öñÔ∏è</p>
    </div>
  </div>

  <script>
    const userId = window.Telegram?.WebApp?.initDataUnsafe?.user?.id;
    console.log("User ID:", userId);

    const container = document.getElementById('flights-container');

    const flights = [
      { airline: 'Ryanair', from: 'Kyiv', to: 'Lisbon', price: 140, duration: '5h', transfers: 1 },
      { airline: 'WizzAir', from: 'Lviv', to: 'Barcelona', price: 120, duration: '4h 30m', transfers: 0 },
    ];

    function renderFlights(data) {
      container.innerHTML = '';
      data.forEach((flight) => {
        const card = document.createElement('div');
        card.className = 'bg-white shadow rounded-xl p-4';
        card.innerHTML = `
          <div class="flex justify-between items-center mb-1">
            <span class="text-sm font-semibold">${flight.airline}</span>
            <span class="text-sm text-indigo-500">$${flight.price}</span>
          </div>
          <div class="text-sm">${flight.from} ‚úàÔ∏è ${flight.to}</div>
          <div class="text-xs text-gray-500">Duration: ${flight.duration} | Transfers: ${flight.transfers}</div>
        `;
        container.appendChild(card);
      });
    }

    renderFlights(flights);

    function showTab(id) {
      document.querySelectorAll('.tab').forEach(tab => tab.classList.add('hidden'));
      document.getElementById(id).classList.remove('hidden');
      console.log("Switched to:", id, "User ID:", userId);
    }

    document.getElementById('search-form').addEventListener('submit', (e) => {
      e.preventDefault();
      const from = e.target.from.value;
      const to = e.target.to.value;
      const date = e.target.date.value;
      console.log("–ü–æ–∏—Å–∫ —Ä–µ–π—Å–æ–≤:", { from, to, date, userId });
      alert(`–ü–æ–∏—Å–∫ —Ä–µ–π—Å–æ–≤: ${from} ‚û°Ô∏è ${to} –Ω–∞ ${date}`);
      // –∑–¥–µ—Å—å –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å fetch() –∫ API
    });
  </script>
</body>
</html>
